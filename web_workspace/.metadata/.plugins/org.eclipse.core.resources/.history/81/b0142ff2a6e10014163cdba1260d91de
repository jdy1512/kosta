<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript">
	var xhr;
	function getGreetingPost() {
		var name = document.getElementById("name").value;
		
		if (!name) {
			alert("조회할 이름을 넣으세요.");
			return;
		}

		if (window.ActiveXObject) {
			xhr = new ActiveXObject("Microsoft.XMLHTTP");
		} else {
			xhr = new XMLHttpRequest();
		}
		xhr.open("POST", "/javascript_class/ajax", true);
		
		xhr.onreadystatechange = callback;
		xhr.setRequestHeader("content-type", "application/x-www-form-urlencoded");
	
		xhr.send("cmd=get_hello&name=" + name);
	}
	
	function callback() {
		if (xhr.readyState == 4) {
			if (xhr.status == 200) {
				var txt = document.createTextNode(xhr.responseText);
				var layer = document.getElementById("result_layer")
				var font = document.createElement("font");
				font.setAttribute("color", "blue");
				font.appendChild(txt);

				layer.innerHTML = "<b>response : </b>";
				layer.appendChild(font);
			} else {
				alert("오류발생");
			}
		}
	}

</script>
</head>
<body>
post_hello.html<p>
이름 : <input type="text" id="name">
<input type="button"  value="조회" onclick="getGreetingPost();"><br>
<div id="result_layer"></div>
</body>
</html>










