<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript">
	var xhr;
	function getGreeting() {
		var name = document.getElementById("name");
		
		if (!name) {
			alert("이름을 입력하세요");
			return;
		}
		// 비동기적 요청처리
		// XMLHttpRequest 객체를 생성-전역변수 xhr에 할당
		if (window.ActiveXObject) {// IE
			xhr = new ActiverXObject("Microsoft.XMLHTTP");
		} else {
			xhr = new XMLHttpRequest();
		}
		// xhr.open()호출 - 요청시 필요한 정보(요청방식, url, 동기/비동기 요청)을 xhr에 설정
		xhr.open("GET", "/javascript_class/ajax?cmd=get_hello&name="+name, true);
		
		// xhr에 이베트 핸들러 등록
		xhr.onreadystatechange = callback;
		
		// 요청전송
		xhr.send(null);
	}
	
	function callback() {
		if (xhr.readyState == 4) {
			if (xhr.status == 200) {
				var txt = xhr.responseText;
				document.getElementById("result_layer").innerHTML = "<b>" + txt + "</b>";
			}
		}
	}

</script>
</head>
<body>
<p>
이름 : <input type="text" id="name">
<input type="button"  value="조회" onclick="getGreeting();"><br>
<div id="result_layer"></div>
</body>
</html>























